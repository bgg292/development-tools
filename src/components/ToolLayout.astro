---
const { title, description } = Astro.props;
---

<html lang="en">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width,initial-scale=1" />

    <title>{title}</title>
    <meta name="description" content={description} />

    <!-- Privacy-first / security messaging -->
    <meta name="robots" content="index,follow" />

    <!-- CSP via meta tag (works on static hosting, but headers are stronger).
         This blocks most outbound connections by default.
         If you later add analytics, you'll need to update connect-src. -->
    <meta
      http-equiv="Content-Security-Policy"
      content="
        default-src 'self';
        script-src 'self';
        style-src 'self' 'unsafe-inline';
        img-src 'self' data:;
        font-src 'self';
        connect-src 'self';
        base-uri 'self';
        form-action 'self';
        frame-ancestors 'none';
      "
    />
  </head>

  <body>
    <header class="wrap">
      <a class="brand" href="/">Dev Utilities</a>
      <nav class="nav">
        <a href="/privacy">Privacy</a>
        <a href="/security">Security</a>
      </nav>
    </header>

    <main class="wrap">
      <h1>{title}</h1>
      <p class="desc">{description}</p>

      <section class="banner" role="note" aria-label="Safety notice">
        <strong>Runs locally in your browser.</strong>
        <span>Do not paste secrets (API keys, passwords). No data is sent to a server by this site.</span>
      </section>

      <slot />
    </main>

    <footer class="wrap footer">
      <small>
        No tracking • No cookies • Static site •
        <a href="/privacy">Privacy</a> • <a href="/security">Security</a>
      </small>
    </footer>

    <style>
      :global(body) { margin: 0; font-family: system-ui, -apple-system, Segoe UI, Roboto, Arial, sans-serif; line-height: 1.4; }
      .wrap { max-width: 900px; margin: 0 auto; padding: 16px; }
      header { display: flex; align-items: center; justify-content: space-between; border-bottom: 1px solid #e5e7eb; }
      .brand { font-weight: 700; text-decoration: none; color: inherit; }
      .nav a { margin-left: 12px; color: inherit; text-decoration: none; }
      .desc { color: #4b5563; }
      .banner { margin: 16px 0; padding: 12px; border: 1px solid #f59e0b; background: #fffbeb; border-radius: 10px; display: grid; gap: 6px; }
      .footer { margin-top: 48px; border-top: 1px solid #e5e7eb; padding-top: 16px; color: #6b7280; }
      a { color: inherit; }
    </style>
  </body>
</html>

